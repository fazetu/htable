---
output: github_document
editor_options: 
  chunk_output_type: console
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# htable

The goal of htable is to translate R data.frames into styled HTML tables.

## Installation

``` r
# install.packages("devtools")
devtools::install_github("fazetu/htable")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r}
library(htable)
ex <- data.frame(
  A = 1:10,
  B = 10:1,
  C = -4:5,
  D = letters[1:10],
  E = c(1, NA, 2, NA, 3, NA, 4, NA, 5, NA),
  Pct = runif(10),
  Big = 100000:100009,
  Money = c(100, 200, -100, -200, 1000.11, 2000.22, -1000.11, -2000.22, 0, 0.11),
  stringsAsFactors = FALSE
)
```

First create the HTable object in one of two ways:

```{r}
# ht <- HTable$new(ex)
ht <- htable(ex)
```

To get the HTML for this table:

```{r}
ht$render()
```

To write the HTML to a file:

```r
ht$writeLines("table.html")
```

In an RMarkdown document, include in your chunk settings `results="asis"` in order to get the actual HTML table to render. This chunk has `results="asis"`.

```{r, results="asis"}
ht$Rmd()
```

### Format a column

3 types of numeric text formatting is supported:

* Percent
* Comma
* Dollar

```{r results="asis"}
ht$col_pct_fmt(6)
ht$col_comma_fmt(7)
ht$col_dollar_fmt(8)
```

Since `ht` is a reference class object each formatting operation is done in place.

```{r, results="asis"}
ht$Rmd()
```

These operations change the field `contents`. This matrix is what is used to get the content for each HTML table cell.

```{r}
ht$contents
```
